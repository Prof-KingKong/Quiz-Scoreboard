<!doctype html>
<html lang="de" data-mode="master">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Quiz Show â€“ Quizmaster</title>
  <link rel="stylesheet" href="style.css" />
</head>

<body>
  <!-- Top / Question + Answer -->
  <header class="top">
    <div class="card questionCard">
      <div class="qHeader">
        <div class="pill" id="categoryPill">Kategorie</div>
        <div class="qCount" id="qCount">Frage 1 / 1</div>
      </div>

      <div class="qBody" style="text-align:left;">
        <div class="qNumber" id="qNumber">Frage 1</div>

        <div class="masterGrid">
          <div class="masterBlock">
            <div class="masterLabel">Frage (Quizmaster sieht immer alles)</div>
            <div class="masterBox" id="qmQuestion">â€”</div>
          </div>

          <div class="masterBlock">
            <div class="masterLabel">Antwort</div>
            <div class="masterBox" id="qmAnswer">â€”</div>
          </div>
        </div>

        <div class="hintRow">
          <div class="pill subtle" id="publicStatePill">Public: Ãœbergang</div>
          <div class="hint" id="publicHint">Beamer zeigt aktuell nur â€Frage Xâ€œ.</div>
        </div>

        <div class="navRow">
          <button class="btn" id="prevQuestionBtn">â† Frage zurÃ¼ck</button>
          <button class="btn" id="toggleRevealBtn">Public umschalten</button>
          <button class="btn primary" id="nextQuestionBtn">NÃ¤chste Frage â†’</button>
        </div>
      </div>
    </div>
  </header>

  <!-- Toolbar -->
  <div class="toolbar">
    <div class="toolbarLeft">
      <button class="iconBtn danger" id="undoBtn" title="Letzte Aktion rÃ¼ckgÃ¤ngig">â†© Undo</button>
      <button class="iconBtn" id="resetScoresBtn" title="Alle Punkte auf 0 setzen">âŸ² Punkte reset</button>

      <!-- NEW: Buzzer reset (Countdown -> frei) -->
      <button class="iconBtn" id="resetBuzzerBtn" title="Buzzer mit Countdown freigeben">ğŸ”“ Buzzer frei</button>
      <div id="buzzerStatusMaster" class="buzzerStatusMaster">
        Buzzer: â€”
      </div>

      <button class="iconBtn" id="openQuestionsBtn" title="Fragen verwalten">ğŸ“ Fragen</button>
      <button class="iconBtn" id="openPublicBtn" title="Public/Beamer Ansicht Ã¶ffnen">ğŸ“º Public</button>
    </div>

    <div class="toolbarRight">
      <button class="iconBtn" id="addTeamBtn" title="Team hinzufÃ¼gen">+ Team</button>
      <button class="iconBtn" id="removeTeamBtn" title="Letztes Team entfernen">- Team</button>
      <button class="iconBtn" id="logoutBtn" title="Abmelden">ğŸšª Logout</button>
    </div>
  </div>

  <!-- Bottom / Teams -->
  <main class="bottom">
    <div class="teams" id="teams">
      <!-- Teams werden durch app.js gerendert -->
    </div>
  </main>

  <div class="footer">
    Quizmaster View â€“ Teamnamen per Klick editierbar Â· Richtig/Falsch vergibt Punkte
  </div>

  <!-- Firebase compat -->
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-database-compat.js"></script>

  <!-- Firebase config + realtime buzzer -->
  <script src="firebase-config.js"></script>
  <script src="realtime-buzzer.js"></script>

  <!-- Auth gate -->
  <script src="auth.js"></script>
  <script>
    window.QuizAuth?.requireAuth();
  </script>

  <!-- Main app -->
  <script src="app.js"></script>
</body>
</html>
